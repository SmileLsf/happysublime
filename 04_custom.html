<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>自定制</title>
    <link rel="stylesheet" href="./css/master.css" type="text/css" media="screen" charset="utf-8"/>
    <link rel="stylesheet" href="./css/colortheme.css" type="text/css" media="screen" charset="utf-8"/>
    <link rel="icon" type="image/png" href="./images/sublime.png" />
  </head>
  <body>
    <div id='wrapper'>
      <div id='header'>
        <h1>Sublime</h1>
        <h2>自定制</h2>
      </div>
      <div id='menu'>
        <ul>
          <li><a href='/happysublime'>目录</a></li>
          <li><a href='./about.html'>关于</a></li>
        </ul>
      </div>
      <div class='content'>
        <p>聊一下如何对 sublime 进行自定制。主要是自定制系统结构的介绍，更多的细节后面讲具体功能的时候会再聊。反正差不多哪个功能都离不开这个系统。</p>

<h3 id="one-place-for-all">One Place for All</h3>
<p>sublime 有一个很简单的特点，就是所有用户自定制的内容都会放在一个文件夹中。不同的操作系统肯定是不同的，google 一下就知道了，不过 Mac 系统下是</p>

<pre><code>~/Library/Application Support/Sublime Text 3/Packages/User
</code></pre>

<p>写到这里的数据是不会被自动升级而被覆盖的。可以到 menu-&gt;Sublime Text-&gt;Preferences-&gt;Browse Packages 中找到这个文件夹。</p>

<p>熟悉 vim 编辑器的朋友可以把这个位置当成 ~/.vim/ 文件夹。而且跟 vim 一样，sublime 的配置文件也都是，继承 Unix 哲学的简单透明原则，纯文本格式的。乍一看可能因为没有图形界面，显得简陋点，但是实际上是更加好用，因为透明嘛。</p>

<p>配置内容到底有哪些？可以参考我的 <a href="https://github.com/happypeter/sublime-config">sublime-config</a> 仓库。</p>

<p>除了这些，如果安装扩展包，包也一样有自己的 Default 设置，肯定不会放在这里。包的用户自定制内容也一样要保存到这里。这样如果重装就非常方便恢复这些设置了。</p>

<h3 id="settings">Settings</h3>
<p>其他的也有很多，但是最重要的自定制文件有两类：Key Bindings 前面已经说了，这一集来说说 Settings 。用命令面板找到 <code>settings</code> 看到也一样是有两项：Default 和 User。同样也是 Default 中的内容是不许改的，要改就在 User 中改，改完了的内容会保存到 Packages/User 文件夹下面。</p>

<p>存放到 User 文件夹下的内容会覆盖 Settings Default 中的内容。举个例子：</p>

<p>Settings Default 文件中</p>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="s2">&quot;line_padding_top&quot;</span><span class="err">:</span> <span class="mi">0</span><span class="err">,</span>
<span class="s2">&quot;line_padding_bottom&quot;</span><span class="err">:</span> <span class="mi">0</span><span class="err">,</span></code></pre></div>

<p>现在我在 Settings User 中写上</p>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="s2">&quot;line_padding_bottom&quot;</span><span class="err">:</span> <span class="mi">7</span><span class="err">,</span>
<span class="s2">&quot;line_padding_top&quot;</span><span class="err">:</span> <span class="mi">7</span><span class="err">,</span></code></pre></div>

<p>直接 Cmd-S 保存，不用重启，直接生效。这些内容会保存在 User/Preferences.sublime-settings 中。</p>

<h3 id="section">设置内容的组织和优先级</h3>

<p>可以做到，但是并不建议，settings 内容如果很多，可以分成很多个文件，各自命名方式和覆盖优先级。<a href="http://sublime-text-unofficial-documentation.readthedocs.org/en/latest/customization/settings.html#format">参考</a></p>

<p>我这里只是要提一点。就是自定制的设置直接放到 User/Preferences.sublime-settings 这个文件中，那么就是对所有打开的项目都生效了。比如如下的设置：</p>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="s2">&quot;file_exclude_patterns&quot;</span><span class="err">:</span>
<span class="p">[</span>
  <span class="s2">&quot;.DS_Store&quot;</span><span class="p">,</span>
  <span class="s2">&quot;*.sublime-workspace&quot;</span><span class="p">,</span>
  <span class="s2">&quot;*.scssc&quot;</span>
<span class="p">]</span><span class="err">,</span>
<span class="s2">&quot;folder_exclude_patterns&quot;</span><span class="err">:</span>
<span class="p">[</span>
  <span class="s2">&quot;.git&quot;</span><span class="p">,</span>
  <span class="s2">&quot;log&quot;</span><span class="p">,</span>
  <span class="s2">&quot;tmp/cache&quot;</span><span class="p">,</span>
  <span class="s2">&quot;.vagrant&quot;</span>
<span class="p">]</span><span class="err">,</span>
<span class="s2">&quot;tab_size&quot;</span><span class="err">:</span> <span class="mi">2</span><span class="err">,</span>
<span class="s2">&quot;translate_tabs_to_spaces&quot;</span><span class="err">:</span> <span class="kc">true</span><span class="err">,</span></code></pre></div>

<p>但是，这些设置有时候对于不同的项目是会有区别的，sublime 是有相应的解决方法的，就是可以通过设置 <a href="http://www.sublimetext.com/docs/3/projects.html">Projects</a> 来实现。如果觉得英文看得不顺也可以参考 <a href="http://feliving.github.io/Sublime-Text-3-Documentation/">这里</a>。基本思路就是给每个项目添加 xxx.sublime-project 文件，里面的配置会把 User/ 中的设置给覆盖了。不过这样还是稍微有些麻烦，除非特别必要，自己手动临时改改 User/ 中的这个 settings 文件就好。</p>

        <div class='clearfix'></div>
      </div>
    </div>
    <div id='footer'>
      Hosted by <a href='http://github.com' target='_blank'>GitHub</a> and powered by <a href='http://github.com/mojombo/jekyll'>Jekyll</a>.
    </div>
  </body>
</html>

